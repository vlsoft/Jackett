---
  site: rapidetracker
  name: RapideTracker
  language: fr-fr
  type: private
  encoding: UTF-8
  links:
    - https://rapidetracker.net
  certificates:
    - B0238C547A905BFA119C4E8BACCAEACF36491FF6

  caps:
    categorymappings:
      - {id: 218, cat: PC/0day, desc: "APPLICATION"}
      - {id: 219, cat: PC/Phone-Android, desc: "ANDROID"}
      - {id: 221, cat: PC/Phone-IOS, desc: "APPLE"}
      - {id: 220, cat: PC/0day, desc: "WINDOWS"}

      - {id: 233, cat: Movies/SD, desc: "CAM/SCREENER"}
      - {id: 234, cat: Movies/SD, desc: "CAM-TS"}
      - {id: 235, cat: Movies/SD, desc: "DVD-SCREENER"}

      - {id: 222, cat: TV/Anime, desc: "DESSINS ANIMES"}
      - {id: 260, cat: TV/Anime, desc: "ANIMATION"}
      - {id: 225, cat: TV/Anime, desc: "JAP-ANIM"}
      - {id: 226, cat: TV/Anime, desc: "SERIE-ANIME"}

      - {id: 206, cat: Books, desc: "E-BOOK"}
      - {id: 240, cat: Books, desc: "AUDIO"}
      - {id: 239, cat: Books, desc: "BD"}
      - {id: 241, cat: Books, desc: "LIVRE"}
      - {id: 208, cat: Books, desc: "MANGA"}
      - {id: 209, cat: Books, desc: "PRESSE"}
      - {id: 207, cat: XXX, desc: "XXX"}

      - {id: 213, cat: TV, desc: "EMISSIONS TV"}
      - {id: 215, cat: TV/Documentary, desc: "DOC"}
      - {id: 214, cat: TV, desc: "EMISSIONS"}
      - {id: 216, cat: TV, desc: "SPECTACLE"}
      - {id: 217, cat: TV/Sport, desc: "SPORT"}

      - {id: 176, cat: Movies/SD, desc: "FILMS"}
      - {id: 178, cat: Movies/SD, desc: "BDRIP"}
      - {id: 179, cat: Movies/SD, desc: "BRRIP"}
      - {id: 245, cat: Movies/SD, desc: "COFFRET FILMS"}
      - {id: 183, cat: Movies/DVD, desc: "DVD-R"}
      - {id: 182, cat: Movies/DVD, desc: "DVDRIP"}
      - {id: 252, cat: Movies/SD, desc: "FILMS-VO"}
      - {id: 246, cat: Movies/SD, desc: "FILMS-X265"}
      - {id: 184, cat: Movies/SD, desc: "HORREUR"}
      - {id: 199, cat: Movies/SD, desc: "RETRO"}
      - {id: 186, cat: Movies/SD, desc: "VOSTFR"}
      - {id: 198, cat: Movies/SD, desc: "WEB-RiP"}

      - {id: 210, cat: XXX, desc: "FILMS ADULTE"}
      - {id: 212, cat: XXX, desc: " HENTAI"}
      - {id: 211, cat: XXX, desc: "FILMS XXX"}

      - {id: 200, cat: Movies/HD, desc: "FILMS HD"}
      - {id: 201, cat: Movies/HD, desc: "1080p"}
      - {id: 202, cat: Movies/3D, desc: "3D"}
      - {id: 203, cat: Movies/HD, desc: "720p"}
      - {id: 242, cat: Movies/BluRay, desc: "BLURAY"}
      - {id: 204, cat: Movies/HD, desc: "HD-RIP"}
      - {id: 238, cat: Movies/HD, desc: "M-HD 1080P"}
      - {id: 237, cat: Movies/HD, desc: "M-HD 720P"}
      - {id: 255, cat: Movies/HD, desc: "REMUX"}

      - {id: 191, cat: Console, desc: "JEUX"}
      - {id: 192, cat: Console/NDS, desc: "DS-3DS"}
      - {id: 193, cat: PC/Games, desc: "PC"}
      - {id: 194, cat: Console/PS3, desc: "PS3"}
      - {id: 195, cat: Console/Wii, desc: "WII"}
      - {id: 196, cat: Console/Wii, desc: "WIIU"}
      - {id: 197, cat: Console/XBox360, desc: "XBox360"}

      - {id: 187, cat: Audio, desc: "MUSIQUE"}
      - {id: 189, cat: Audio, desc: "CONCERT"}
      - {id: 190, cat: Audio/Lossless, desc: "FLAC"}
      - {id: 188, cat: Audio/MP3, desc: "MP3"}

      - {id: 227, cat: TV, desc: "SERIE"}
      - {id: 254, cat: TV, desc: "SERIE-VO"}
      - {id: 229, cat: TV/HD, desc: "TV HD FR"}
      - {id: 230, cat: TV/HD, desc: "TV HD VOSTFR"}
      - {id: 249, cat: TV/HD, desc: "TV HD VOSTFR X265"}
      - {id: 243, cat: TV, desc: "TV PACK FR"}
      - {id: 244, cat: TV, desc: "TV PACK VOSTFR"}
      - {id: 231, cat: TV/SD, desc: "TV VF"}
      - {id: 232, cat: TV/SD, desc: "TV VOSTFR"}

      - {id: 236, cat: Other, desc: "SOURD & MALENTENDANT"}

      - {id: 253, cat: Other, desc: "TEAM-RDT"}
      - {id: 258, cat: TV/Documentary, desc: "DOC RDT"}
      - {id: 257, cat: Movies, desc: "FILMS RDT"}
      - {id: 256, cat: TV, desc: "SERIE RDT"}
      - {id: 259, cat: XXX, desc: "XXX RDT"}

    modes:
      search: [q]
      tv-search: [q, season, ep]

  login:
    path: takelogin.php
    method: post
    inputs:
      username: "{{ .Config.username }}"
      password: "{{ .Config.password }}"
    error:
      - selector: table:has(td:contains("Une erreur est survenue"))
    test:
      path: browse.php
      
  search:
    path: browse.php
    inputs:
      do: "chercher"
      keywords: "{{ .Query.Keywords }}"
      search_type: "t_name"
      category: "0" # multi cat search not supported
      include_dead_torrents: "yes"
    rows:
      selector: table#sortabletable > tbody > tr:has(a[href^="https://rapidetracker.net/torrent-details-"])
    fields:
      download:
        selector: a[href^="https://rapidetracker.net/download-torrent-"]
        attribute: href
      title:
        selector: a[href^="https://rapidetracker.net/torrent-details-"]
      details:
        selector: a[href^="https://rapidetracker.net/torrent-details-"]
        attribute: href
      category:
        selector: a[href^="https://rapidetracker.net/torrent-category-"]
        attribute: href
        filters:
          - name: regexp
            args: torrent-category-(\d+)
      size:
        selector: td:nth-child(4)
      date:
        selector: td:nth-child(2) > div > font[color="white"]
        filters:
          - name: replace
            args: ["le ", ""]
          - name: replace
            args: [" à ", " "]
          - name: trim
            args: "\t"
          - name: trim
            args: "\n"
          - name: append
            args: " +01:00"
          - name: dateparse
            args: "02-01-2006 15:04 -07:00"
      grabs:
        selector: td:nth-child(5)
      seeders:
        selector: td:nth-child(6)
      leechers:
        selector: td:nth-child(7)
      downloadvolumefactor:
        case:
          img[alt^="Free Torrent "]: "0"
          img[alt^="Silver Torrent "]: "0.5"
          "*": "1"
      uploadvolumefactor:
        case:
          "*": "1"